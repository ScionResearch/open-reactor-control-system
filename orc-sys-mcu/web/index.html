<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Open Reactor Control System</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@mdi/font@7.4.47/css/materialdesignicons.min.css">
    <link rel="stylesheet" href="style/style.css">
</head>
<body>
    <main>
        <div class="container">
            <header>
                <h1>Open Reactor Control System</h1>
                <svg xmlns="http://www.w3.org/2000/svg" width="187.808" height="65.24" viewBox="0 0 49.691 17.261"><defs><clipPath id="a" clipPathUnits="userSpaceOnUse"><path d="M0 0h1280v720H0Z"/></clipPath><clipPath id="b" clipPathUnits="userSpaceOnUse"><path d="M0 0h1280v720H0Z"/></clipPath></defs><g clip-path="url(#a)" transform="matrix(.08527 0 0 -.08527 -35.878 39.33)"><path d="M0 0a6.6 6.6 0 0 1-9.312-.569 6.604 6.604 0 0 1 .568-9.313 6.599 6.599 0 0 1 9.312.568A6.606 6.606 0 0 1 0 0" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(479.182 456.079)"/><path d="M0 0a6.262 6.262 0 1 0 7.574 9.974A6.262 6.262 0 0 0 0 0" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(483.457 424.814)"/><path d="M0 0a9.091 9.091 0 0 0-1.647 12.751c3.067 3.976 8.776 4.714 12.751 1.647a9.09 9.09 0 0 0 1.647-12.751A9.091 9.091 0 0 0 0 0" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(458.417 425.868)"/><path d="M0 0c4.889-3.77 5.795-10.79 2.025-15.678-3.771-4.889-10.79-5.796-15.679-2.026-4.888 3.771-5.795 10.79-2.025 15.679C-11.908 2.864-4.889 3.77 0 0" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(478.97 417.698)"/><path d="M0 0c-1.711 8.385 3.7 16.57 12.085 18.281 8.385 1.711 16.57-3.7 18.281-12.085 1.711-8.385-3.7-16.57-12.085-18.281C9.896-13.796 1.711-8.385 0 0" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(506.854 423.7)"/><path d="M0 0c-.753 5.187 2.842 10.002 8.029 10.755a9.49 9.49 0 0 0 10.755-8.028 9.49 9.49 0 0 0-8.029-10.756C5.568-8.782.753-5.187 0 0" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(531.335 449.472)"/><path d="M0 0a6.262 6.262 0 1 0 7.574 9.974A6.262 6.262 0 0 0 0 0" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(557.927 449.963)"/><path d="M0 0a1.174 1.174 0 0 1 0-1.655l.526-.526c6.297-6.298 15.814-7.561 23.25-3.488 2.121 1.175 4.004 2.99 4.668 5.384.687 2.479.194 5.415-.989 7.662a11.028 11.028 0 0 1-2.47 3.129c-4.368 3.846-11.042 3.438-15.158-.678L0 0" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(526.441 399.697)"/><path d="m0 0 1.001 1.001c.763.763.187 2.062-.89 2.008-6.599-.333-13.309 2.014-18.338 7.042l-4.984 4.984c-.18.142-.355.292-.521.457l-10.725 10.726c-4.278 4.279-11.215 4.279-15.493 0-4.278-4.279-4.278-11.215 0-15.493L-39.224-.001c5.407-5.406 12.509-8.109 19.612-8.109C-12.51-8.11-5.408-5.407 0 0" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(541.225 383.494)"/><path d="M0 0a6.6 6.6 0 0 1-.569 9.312 6.605 6.605 0 0 1-9.313-.568 6.594 6.594 0 0 1 .568-9.313A6.607 6.607 0 0 1 0 0" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(618.03 402.77)"/><path d="M0 0a6.262 6.262 0 1 0 9.974-7.573A6.262 6.262 0 0 0 0 0" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(586.765 398.495)"/><path d="M0 0a9.092 9.092 0 1 0 14.397-11.105A9.092 9.092 0 0 0 0 0" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(587.82 423.535)"/><path d="M0 0c-3.77-4.889-10.79-5.795-15.678-2.025-4.889 3.77-5.796 10.79-2.025 15.679 3.77 4.888 10.789 5.795 15.678 2.024C2.864 11.908 3.77 4.889 0 0" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(579.649 402.982)"/><path d="M0 0c8.385 1.711 16.57-3.7 18.281-12.085 1.711-8.385-3.7-16.57-12.085-18.281-8.385-1.711-16.57 3.7-18.281 12.085C-13.796-9.896-8.385-1.711 0 0" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(585.65 375.097)"/><path d="M0 0c5.187.753 10.003-2.842 10.755-8.029a9.49 9.49 0 0 0-8.028-10.755A9.49 9.49 0 1 0 0 0" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(611.424 350.616)"/><path d="M0 0a6.262 6.262 0 1 0 9.974-7.573A6.262 6.262 0 0 0 0 0" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(611.915 324.025)"/><path d="M0 0c-.455.455-1.2.455-1.655 0l-.527-.526c-6.297-6.297-7.56-15.814-3.487-23.25 1.175-2.121 2.99-4.004 5.384-4.668 2.478-.687 5.415-.194 7.662.989a11.01 11.01 0 0 1 3.128 2.47c3.847 4.368 3.439 11.042-.677 15.158L0 0" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(561.648 355.51)"/><path d="m0 0 1.001-1.001c.763-.763 2.062-.187 2.008.89-.333 6.599 2.014 13.309 7.042 18.338l4.985 4.983c.141.181.291.356.457.522l10.725 10.725c4.279 4.278 4.279 11.215 0 15.492-4.278 4.279-11.215 4.279-15.493 0L-.001 39.224C-5.407 33.817-8.11 26.715-8.11 19.612-8.11 12.51-5.407 5.408 0 0" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(545.445 340.727)"/><path d="M0 0a6.592 6.592 0 0 1 9.312.57 6.595 6.595 0 1 1-9.88 8.744A6.606 6.606 0 0 1 0 0" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(564.72 263.921)"/><path d="M0 0a6.262 6.262 0 1 0-7.574-9.974A6.262 6.262 0 0 0 0 0" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(560.446 295.186)"/><path d="M0 0a9.091 9.091 0 0 0 1.647-12.751 9.09 9.09 0 0 0-12.751-1.647A9.092 9.092 0 0 0 0 0" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(585.486 294.132)"/><path d="M0 0c-4.889 3.771-5.795 10.79-2.025 15.679 3.77 4.888 10.79 5.795 15.679 2.024 4.888-3.77 5.795-10.79 2.025-15.678C11.908-2.864 4.889-3.771 0 0" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(564.933 302.303)"/><path d="M0 0c1.711-8.385-3.7-16.57-12.085-18.281-8.385-1.711-16.57 3.7-18.281 12.086-1.711 8.384 3.7 16.569 12.085 18.28C-9.896 13.796-1.711 8.386 0 0" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(537.049 296.3)"/><path d="M0 0a9.491 9.491 0 1 0-18.786-2.726A9.491 9.491 0 0 0 0 0" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(512.567 270.528)"/><path d="M0 0a6.262 6.262 0 1 0-7.574-9.974A6.262 6.262 0 0 0 0 0" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(485.976 270.037)"/><path d="M0 0c.455.455.455 1.2 0 1.655l-.526.527c-6.297 6.297-15.814 7.56-23.25 3.487-2.121-1.175-4.004-2.99-4.668-5.384-.687-2.478-.194-5.415.989-7.662a11.01 11.01 0 0 1 2.47-3.128c4.368-3.847 11.042-3.438 15.158.677L0 0" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(517.462 320.303)"/><path d="m0 0-1.001-1.001c-.763-.763-.187-2.062.89-2.008 6.599.332 13.309-2.014 18.338-7.043l4.984-4.984c.18-.141.355-.291.521-.457l10.725-10.725c4.278-4.279 11.215-4.279 15.493 0 4.278 4.279 4.278 11.214 0 15.492L39.224 0c-5.407 5.407-12.509 8.11-19.612 8.11C12.51 8.11 5.408 5.407 0 0" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(502.678 336.507)"/><path d="M0 0a6.6 6.6 0 0 1 .569-9.312 6.605 6.605 0 0 1 9.313.568 6.602 6.602 0 0 1 1.602 5.219A6.59 6.59 0 0 1 9.314.568 6.606 6.606 0 0 1 0 0" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(425.872 317.23)"/><path d="M0 0a6.262 6.262 0 1 0-9.974 7.573A6.262 6.262 0 0 0 0 0" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(457.137 321.506)"/><path d="M0 0a9.092 9.092 0 1 0-14.398 11.105A9.092 9.092 0 0 0 0 0" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(456.083 296.466)"/><path d="M0 0c3.77 4.889 10.79 5.795 15.679 2.025 4.888-3.771 5.795-10.79 2.024-15.679-3.77-4.888-10.789-5.795-15.678-2.025C-2.864-11.908-3.77-4.889 0 0" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(464.253 317.018)"/><path d="M0 0c-8.385-1.711-16.57 3.699-18.281 12.085-1.711 8.385 3.7 16.569 12.085 18.28 8.385 1.712 16.57-3.699 18.281-12.085C13.796 9.896 8.385 1.71 0 0" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(458.252 344.903)"/><path d="M0 0c-5.187-.753-10.003 2.841-10.755 8.028A9.491 9.491 0 1 0 0 0" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(432.479 369.385)"/><path d="M0 0a6.262 6.262 0 1 0-9.974 7.574A6.262 6.262 0 0 0 0 0" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(431.988 395.975)"/><path d="M0 0a1.174 1.174 0 0 1 1.655 0l.527.526c6.297 6.297 7.56 15.814 3.487 23.25-1.175 2.121-2.99 4.004-5.384 4.668-2.478.687-5.415.194-7.662-.989a11.01 11.01 0 0 1-3.128-2.47c-3.846-4.368-3.439-11.043.677-15.158L0 0" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(482.255 364.49)"/><path d="m0 0-1.001 1.001c-.763.763-2.062.187-2.008-.89.333-6.599-2.014-13.309-7.042-18.338l-4.984-4.983a5.748 5.748 0 0 0-.458-.521l-10.725-10.726c-4.279-4.277-4.279-11.215 0-15.492 4.279-4.279 11.215-4.279 15.493 0L.001-39.224c5.406 5.407 8.11 12.509 8.11 19.612C8.111-12.51 5.407-5.407 0 0" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(498.457 379.273)"/><path d="M0 0c0-8.142-6.632-13.461-14.84-13.461h-19.305v45.964h17.992c8.011 0 14.512-5.187 14.512-13.132 0-3.809-1.511-6.83-4.006-8.996C-2.232 8.208 0 4.662 0 0m-23.639 22.654v-8.143h7.486c2.364 0 4.005 1.708 4.005 4.072 0 2.363-1.576 4.071-4.005 4.071zM-10.506.788c0 2.561-1.708 4.399-4.334 4.399h-8.799v-8.798h8.799c2.626 0 4.334 1.838 4.334 4.399" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(685.556 409.841)"/><path d="M0 0c0 3.218 2.692 5.91 5.91 5.91 3.217 0 5.91-2.692 5.91-5.91S9.127-5.91 5.91-5.91C2.692-5.91 0-3.218 0 0m.985-8.799h9.85v-32.832H.985z" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(688.103 438.01)"/><path d="M0 0c0 9.784 7.748 17.335 17.401 17.335 9.652 0 17.4-7.551 17.4-17.335s-7.748-17.335-17.4-17.335C7.748-17.335 0-9.784 0 0m24.951 0c0 4.662-3.282 7.748-7.55 7.748S9.85 4.662 9.85 0c0-4.662 3.283-7.749 7.551-7.749 4.268 0 7.55 3.087 7.55 7.749" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(702.305 412.796)"/><path d="M0 0c2.692 0 4.99 1.05 6.304 2.495l7.879-4.531C10.965-6.501 6.107-8.799-.131-8.799c-11.229 0-18.189 7.551-18.189 17.335s7.092 17.335 17.467 17.335c9.586 0 16.678-7.42 16.678-17.335 0-1.379-.131-2.692-.393-3.94H-7.88C-6.632 1.181-3.612 0 0 0m6.042 11.95C4.99 15.759 2.035 17.138-.92 17.138c-3.742 0-6.237-1.838-7.157-5.188z" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(757.915 404.26)"/><path d="M0 0c0 9.784 7.42 17.335 17.4 17.335 6.37 0 12.017-3.349 14.84-8.405l-8.601-4.99c-1.117 2.298-3.48 3.676-6.369 3.676-4.268 0-7.42-3.086-7.42-7.616 0-4.531 3.152-7.617 7.42-7.617 2.889 0 5.318 1.379 6.369 3.677l8.601-4.925c-2.823-5.121-8.405-8.47-14.84-8.47C7.42-17.335 0-9.784 0 0" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(776.23 412.796)"/><path d="M0 0c0 9.784 7.748 17.335 17.4 17.335 9.653 0 17.402-7.551 17.402-17.335S27.053-17.335 17.4-17.335C7.748-17.335 0-9.784 0 0m24.952 0c0 4.662-3.283 7.748-7.552 7.748-4.267 0-7.55-3.086-7.55-7.748 0-4.662 3.283-7.749 7.55-7.749 4.269 0 7.552 3.087 7.552 7.749" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(809.409 412.796)"/><path d="M0 0v-20.159h-9.85v18.714c0 4.071-2.56 5.976-5.712 5.976-3.611 0-6.107-2.101-6.107-6.764v-17.926h-9.849v32.832h9.849V9.587c1.774 2.429 5.057 4.005 9.39 4.005C-5.647 13.592 0 8.865 0 0" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(879.153 416.539)"/><path d="M0 0c0 9.784 7.748 17.335 17.4 17.335 9.653 0 17.402-7.551 17.402-17.335S27.053-17.335 17.4-17.335C7.748-17.335 0-9.784 0 0m24.952 0c0 4.662-3.283 7.748-7.552 7.748-4.268 0-7.55-3.086-7.55-7.748 0-4.662 3.282-7.749 7.55-7.749 4.269 0 7.552 3.087 7.552 7.749" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(882.415 412.796)"/><path d="M0 0v-20.159h-9.85V-.854c0 3.284-1.575 5.385-4.727 5.385-3.283 0-5.122-2.299-5.122-6.173v-18.517h-9.85V-.854c0 3.284-1.575 5.385-4.727 5.385-3.283 0-5.122-2.299-5.122-6.173v-18.517h-9.849v32.832h9.849V9.652c1.511 2.233 4.399 3.94 8.799 3.94 3.874 0 6.763-1.576 8.602-4.333 1.838 2.626 4.859 4.333 9.52 4.333C-4.925 13.592 0 8.208 0 0" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(969.72 416.539)"/><path d="m0 0-11.229-31.847c-3.677-10.44-9.521-14.577-18.713-14.117v9.193c4.596 0 6.763 1.444 8.207 5.449L-34.802 0h10.835l7.288-20.093L-10.507 0Z" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(1003.465 429.212)"/><path d="m0 0 9.062 5.254c1.641-3.809 4.465-6.37 9.652-6.37 4.991 0 6.238 1.97 6.238 3.743 0 2.824-2.626 3.94-9.521 5.844-6.829 1.904-13.526 5.187-13.526 13.986 0 8.865 7.485 13.986 15.431 13.986 7.551 0 13.46-3.611 16.809-10.375l-8.864-5.187c-1.576 3.284-3.743 5.319-7.945 5.319-3.284 0-4.925-1.641-4.925-3.48 0-2.101 1.116-3.546 8.273-5.713 6.96-2.101 14.774-4.53 14.774-14.248 0-8.865-7.091-14.118-17.072-14.118C8.733-11.359 2.561-6.763 0 0" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(649.112 346.113)"/><path d="M0 0c0 9.784 7.42 17.335 17.401 17.335 6.369 0 12.016-3.349 14.84-8.404L23.639 3.94c-1.117 2.298-3.48 3.677-6.369 3.677-4.269 0-7.42-3.086-7.42-7.617 0-4.53 3.151-7.617 7.42-7.617 2.889 0 5.318 1.379 6.369 3.678l8.602-4.925c-2.824-5.122-8.405-8.471-14.84-8.471C7.42-17.335 0-9.783 0 0" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(686.87 352.089)"/><path d="M0 0c0 3.218 2.692 5.91 5.91 5.91S11.819 3.218 11.819 0c0-3.217-2.691-5.91-5.909-5.91S0-3.217 0 0m.985-8.799h9.849v-32.832H.985Z" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(721.113 377.303)"/><path d="M0 0c2.692 0 4.99 1.051 6.304 2.495l7.879-4.531C10.965-6.5 6.107-8.799-.131-8.799c-11.229 0-18.188 7.552-18.188 17.335 0 9.784 7.091 17.335 17.466 17.335 9.586 0 16.678-7.42 16.678-17.335 0-1.378-.131-2.692-.393-3.939H-7.88C-6.632 1.182-3.612 0 0 0m6.042 11.951C4.99 15.759 2.035 17.138-.92 17.138c-3.742 0-6.237-1.838-7.157-5.187z" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(753.468 343.553)"/><path d="M0 0v-20.159h-9.85v18.714c0 4.071-2.56 5.976-5.712 5.976-3.611 0-6.107-2.101-6.107-6.763v-17.927h-9.849v32.832h9.849V9.587c1.774 2.429 5.057 4.005 9.39 4.005C-5.647 13.592 0 8.864 0 0" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(804.352 355.832)"/><path d="M0 0c0 9.784 7.42 17.335 17.4 17.335 6.37 0 12.017-3.349 14.84-8.404L23.639 3.94c-1.117 2.298-3.48 3.677-6.369 3.677-4.268 0-7.42-3.086-7.42-7.617 0-4.53 3.152-7.617 7.42-7.617 2.889 0 5.318 1.379 6.369 3.678l8.601-4.925c-2.823-5.122-8.405-8.471-14.84-8.471C7.42-17.335 0-9.783 0 0" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(807.78 352.089)"/><path d="M0 0c2.692 0 4.99 1.051 6.304 2.495l7.879-4.531C10.965-6.5 6.107-8.799-.131-8.799c-11.229 0-18.189 7.552-18.189 17.335 0 9.784 7.092 17.335 17.467 17.335 9.586 0 16.678-7.42 16.678-17.335 0-1.378-.131-2.692-.394-3.939H-7.88C-6.632 1.182-3.612 0 0 0m6.042 11.951C4.99 15.759 2.035 17.138-.92 17.138c-3.742 0-6.237-1.838-7.157-5.187z" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(859.334 343.553)"/></g><path d="M661.751 277.632h-10.506v45.965h10.506z" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="matrix(.08527 0 0 -.08527 -35.878 39.33)"/><g clip-path="url(#b)" transform="matrix(.08527 0 0 -.08527 -35.878 39.33)"><path d="M0 0v-20.159h-9.849v18.715c0 4.07-2.561 5.974-5.713 5.974-3.611 0-6.107-2.101-6.107-6.762v-17.927h-9.849v32.832h9.849V9.586c1.773 2.43 5.057 4.007 9.39 4.007C-5.647 13.593 0 8.864 0 0" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(697.19 297.79)"/><path d="M0 0c0-7.552-6.567-10.769-13.658-10.769-6.567 0-11.557 2.495-14.118 7.814l8.536 4.86c.854-2.496 2.692-3.875 5.582-3.875 2.364 0 3.546.723 3.546 2.035 0 3.613-16.154 1.708-16.154 13.068 0 7.157 6.041 10.769 12.87 10.769 5.319 0 10.047-2.364 12.804-7.027l-8.404-4.53c-.92 1.708-2.233 2.888-4.4 2.888-1.707 0-2.757-.655-2.757-1.837C-16.153 9.653 0 12.147 0 0" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(727.008 287.481)"/><path d="M0 0v-10.975c0-4.821 4.297-4.209 8.63-3.946v-8.931C-4.239-25.164-9.85-21.291-9.85-12.097V18.173H0v-7.371C0 9.796.816 8.98 1.822 8.98h7.21L9.106 0Z" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(740.397 301.483)"/><path d="M0 0v-10.975c0-4.821 4.297-4.209 8.631-3.946v-8.931C-4.239-25.164-9.85-21.291-9.85-12.097V18.173H0v-7.371C0 9.796.816 8.98 1.822 8.98h7.21L9.106 0Z" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(776.334 301.483)"/><path d="M0 0v-10.975c0-4.821 4.297-4.209 8.631-3.946v-8.931C-4.239-25.164-9.85-21.291-9.85-12.097V18.173H0v-7.371C0 9.796.816 8.98 1.822 8.98h7.21L9.106 0Z" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(834.717 301.483)"/><path d="M0 0c0 3.218 2.692 5.91 5.91 5.91 3.217 0 5.909-2.692 5.909-5.91 0-3.217-2.692-5.909-5.909-5.909C2.692-5.909 0-3.217 0 0m.985-8.798h9.848V-41.63H.985Z" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(751.89 319.262)"/><path d="M0 0v-32.832h-9.85v3.086c-1.772-2.429-5.055-4.005-9.39-4.005-6.631 0-12.278 4.728-12.278 13.592V0h9.85v-18.714c0-4.071 2.56-5.975 5.712-5.975 3.611 0 6.106 2.1 6.106 6.762V0Z" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(820.865 310.464)"/><path d="M0 0c2.692 0 4.99 1.051 6.304 2.495l7.879-4.53C10.965-6.5 6.107-8.799-.131-8.799c-11.229 0-18.189 7.551-18.189 17.335s7.092 17.336 17.467 17.336c9.586 0 16.678-7.42 16.678-17.336 0-1.379-.131-2.691-.395-3.94H-7.88C-6.632 1.182-3.612 0 0 0m6.042 11.95C4.99 15.76 2.035 17.138-.92 17.138c-3.742 0-6.237-1.838-7.157-5.188z" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="translate(863.096 285.512)"/></g><path d="M0 0v-1.546h-1.767V-6.31h-1.671v4.764h-1.799V0Zm5.773 0h1.64v-6.31h-1.64v3.66l-1.64-2.524h-.158L2.334-2.682V-6.31H.694V0h1.64l1.704-2.65z" style="fill:#00424a;fill-opacity:1;fill-rule:nonzero;stroke:none" transform="matrix(.08527 0 0 -.08527 39.247 12.3)"/></svg>
            </header>
            <nav class="tabs">
                <button class="tab-link active" onclick="openTab(event, 'dashboard')">Dashboard</button>
                <button class="tab-link" onclick="openTab(event, 'inputs')">Inputs</button>
                <button class="tab-link" onclick="openTab(event, 'outputs')">Outputs</button>
                <button class="tab-link" onclick="openTab(event, 'comports')">Com Ports</button>
                <button class="tab-link" onclick="openTab(event, 'devices')">Devices</button>
                <button class="tab-link" onclick="openTab(event, 'sensors')">Sensors</button>
                <button class="tab-link" onclick="openTab(event, 'controllers')">Controllers</button>
                <button class="tab-link" onclick="openTab(event, 'filemanager')">File Manager</button>
                <button class="tab-link" onclick="openTab(event, 'system')">System</button>
                <button class="tab-link" onclick="openTab(event, 'settings')">Settings</button>
            </nav>

            <main id="main-content">
                <!-- Dashboard Tab -->
                <div id="dashboard" class="tab-content active">
                    <h2>Live Status & Controls</h2>
                    <!-- Add dashboard content here -->
                </div>

                <!-- Inputs Tab -->
                <div id="inputs" class="tab-content">
                    <h2>Hardware Inputs</h2>
                    <p class="page-description">Onboard input channel configuration and monitoring</p>
                    
                    <div class="inputs-grid">
                        <!-- Analog Inputs Section -->
                        <div class="input-section-card">
                            <h3>Analog Inputs (ADC)</h3>
                            <div id="adc-list" class="input-list">
                                <div class="loading">Loading...</div>
                            </div>
                        </div>
                        
                        <!-- Digital Inputs Section -->
                        <div class="input-section-card">
                            <h3>Digital Inputs</h3>
                            <div id="gpio-list" class="input-list">
                                <div class="loading">Loading...</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Outputs Tab -->
                <div id="outputs" class="tab-content">
                    <h2>Hardware Outputs</h2>
                    <p class="page-description">Onboard output and motor channel configuration and control</p>
                    
                    <div class="outputs-grid">
                        <!-- DAC Analog Outputs Section -->
                        <div class="output-section-card">
                            <h3>Analog Outputs (DAC)</h3>
                            <div id="dac-outputs-list" class="output-list">
                                <div class="loading">Loading...</div>
                            </div>
                        </div>
                        
                        <!-- Digital Outputs Section -->
                        <div class="output-section-card">
                            <h3>Digital Outputs</h3>
                            <div id="digital-outputs-list" class="output-list">
                                <div class="loading">Loading...</div>
                            </div>
                        </div>
                        
                        <!-- Stepper Motor Section -->
                        <div class="output-section-card">
                            <h3>Stepper Motor</h3>
                            <div id="stepper-motor-list" class="output-list">
                                <div class="loading">Loading...</div>
                            </div>
                        </div>
                        
                        <!-- DC Motors Section -->
                        <div class="output-section-card">
                            <h3>DC Motors</h3>
                            <div id="dc-motors-list" class="output-list">
                                <div class="loading">Loading...</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Com Ports Tab -->
                <div id="comports" class="tab-content">
                    <h2>Serial Communication Ports</h2>
                    <p class="page-description">RS-232 and RS-485 port configuration and status</p>
                    
                    <div class="comports-container">
                        <div class="comports-section-card">
                            <h3>COM Ports</h3>
                            <div id="comports-list" class="comports-list">
                                <div class="loading">Loading...</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Devices Tab -->
                <div id="devices" class="tab-content">
                    <h2>Peripheral Devices</h2>
                    <p class="page-description">Create and configure external devices connected via Modbus or analogue I/O</p>
                    
                    <div class="devices-toolbar">
                        <button class="btn-primary" onclick="openAddDeviceModal()">
                            <span style="font-size: 1.2em;" class="mdi mdi-cable-data"></span> Add New Device
                        </button>
                    </div>
                    
                    <div class="devices-container">
                        <div class="devices-section-card">
                            <h3>Configured Devices</h3>
                            <div id="devices-list" class="devices-list">
                                <div class="loading">Loading...</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Sensors Tab -->
                <div id="sensors" class="tab-content">
                    <h2>Sensor Objects</h2>
                    <p class="page-description">On-board sensors and external device sensors</p>
                    
                    <div class="inputs-grid">
                        <!-- RTD Temperature Sensors Section -->
                        <div class="input-section-card">
                            <h3>RTD Temperature Sensors</h3>
                            <div id="rtd-list" class="input-list">
                                <div class="loading">Loading...</div>
                            </div>
                        </div>
                        
                        <!-- Energy Sensors Section -->
                        <div class="input-section-card">
                            <h3>Energy Monitors</h3>
                            <div id="energy-list" class="input-list">
                                <div class="loading">Loading...</div>
                            </div>
                        </div>
                        
                        <!-- Dynamic Device Sensors Section -->
                        <div class="input-section-card">
                            <h3>Device Sensors</h3>
                            <div id="device-sensors-list" class="input-list">
                                <div class="loading">Loading...</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Controllers Tab -->
                <div id="controllers" class="tab-content">
                    <h2>Control Loops</h2>
                    <p class="page-description">Process control loops for reactor operation, including temperature, pH, DO, nutrient dosing and waste removal</p>
                    
                    <div class="devices-toolbar">
                        <button class="btn-primary" onclick="openAddControllerModal()">
                            <span style="font-size: 1.2em;" class="mdi mdi-cogs"></span> Add Controller
                        </button>
                    </div>
                    
                    <div class="controllers-container">
                        <div class="controllers-section-card">
                            <h3>Configured Controllers</h3>
                            <div id="controllers-list" class="controllers-list">
                                <div class="loading">Loading...</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- File Manager Tab -->
                <div id="filemanager" class="tab-content">
                    <h2>SD Card File Manager</h2>
                    <div class="file-manager-header">
                        <p class="page-description">Browse and download files from the device's SD card.</p>
                        <button class="backup-restore-btn" onclick="openBackupRestoreModal()">
                            <span class="mdi mdi-database-sync"></span> Backup / Restore
                        </button>
                    </div>
                    
                    <div class="file-manager">
                        <div id="sd-status" class="status-message"></div>
                        
                        <div id="path-navigator" class="path-navigator"></div>
                        
                        <div class="file-list">
                            <div class="file-list-header">
                                <div class="sortable" data-sort="name" onclick="sortFileList('name')">Name <span class="sort-icon"></span></div>
                                <div class="sortable" data-sort="size" onclick="sortFileList('size')">Size <span class="sort-icon"></span></div>
                                <div class="sortable active desc" data-sort="modified" onclick="sortFileList('modified')">Modified <span class="sort-icon">â–¼</span></div>
                                <div>Actions</div>
                            </div>
                            <div id="file-list-items" class="file-list-items">
                                <div class="loading">Loading files...</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- System Tab -->
                <div id="system" class="tab-content">
                    <h2>System Status</h2>
                    <div class="system-header">
                        <p class="page-description">Current status of system components and resources</p>
                        <button id="rebootButton" class="reboot-button">Reboot System</button>
                    </div>
                    <div class="status-section-grid">
                        <div class="status-card">
                            <h3>Power Supplies</h3>
                            <div class="status-values">
                                <div class="status-item">
                                    <span class="label">Main Supply:</span>
                                    <span class="value" id="mainVoltage">--V</span>
                                    <span class="status" id="mainVoltageStatus">--</span>
                                </div>
                                <div class="status-item">
                                    <span class="label">20V Supply:</span>
                                    <span class="value" id="v20Voltage">--V</span>
                                    <span class="status" id="v20VoltageStatus">--</span>
                                </div>
                                <div class="status-item">
                                    <span class="label">5V Supply:</span>
                                    <span class="value" id="v5Voltage">--V</span>
                                    <span class="status" id="v5VoltageStatus">--</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="status-card">
                            <h3>Real Time Clock</h3>
                            <div class="status-values">
                                <div class="status-item">
                                    <span class="label">Status:</span>
                                    <span class="status" id="rtcStatus">--</span>
                                </div>
                                <div class="status-item">
                                    <span class="label">Time:</span>
                                    <span class="value" id="rtcTime">--</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="status-card">
                            <h3>Communications</h3>
                            <div class="status-values">
                                <div class="status-item">
                                    <span class="label">IPC Status:</span>
                                    <span class="status" id="ipcStatus">--</span>
                                </div>
                                <div class="status-item">
                                    <span class="label">MQTT Status:</span>
                                    <span class="status" id="mqttStatus">--</span>
                                </div>
                                <div class="status-item">
                                    <span class="label">Modbus Status:</span>
                                    <span class="status" id="modbusStatus">--</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="status-card">
                            <h3>SD Card</h3>
                            <div class="status-values">
                                <div class="status-item">
                                    <span class="label">Status:</span>
                                    <span class="status" id="sdStatus">--</span>
                                </div>
                                <div class="status-item" id="sdCapacityContainer">
                                    <span class="label">Capacity:</span>
                                    <span class="value" id="sdCapacity">-- GB</span>
                                </div>
                                <div class="status-item" id="sdFreeSpaceContainer">
                                    <span class="label">Free Space:</span>
                                    <span class="value" id="sdFreeSpace">-- GB</span>
                                </div>
                                <div class="status-item" id="sdLogSizeContainer">
                                    <span class="label">Log File Size:</span>
                                    <span class="value" id="sdLogSize">-- kB</span>
                                </div>
                                <div class="status-item" id="sdSensorSizeContainer">
                                    <span class="label">Sensor File Size:</span>
                                    <span class="value" id="sdSensorSize">-- kB</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Settings Tab -->
                <div id="settings" class="tab-content">
                    <h2>System Settings</h2>
                    <div class="settings-section">
                        <h3>Date and Time</h3>
                        <div class="live-clock">
                            <span id="liveClock"></span>
                        </div>
                        <div class="form-group">
                            <label for="currentDate">Change Date:</label>
                            <input type="date" id="currentDate" pattern="\d{4}-\d{2}-\d{2}">
                        </div>
                        <div class="form-group">
                            <label for="currentTime">Change Time:</label>
                            <input type="time" id="currentTime" step="1">
                        </div>
                        <div class="form-group">
                            <label for="timezone">Timezone:</label>
                            <select id="timezone">
                                <option value="+12:00" selected>UTC+12:00 (Auckland)</option>
                                <option value="+11:00">UTC+11:00 (Solomon Islands)</option>
                                <option value="+10:00">UTC+10:00 (Sydney)</option>
                                <option value="+09:00">UTC+09:00 (Tokyo)</option>
                                <option value="+08:00">UTC+08:00 (Singapore, Beijing)</option>
                                <option value="+07:00">UTC+07:00 (Bangkok)</option>
                                <option value="+06:00">UTC+06:00 (Dhaka)</option>
                                <option value="+05:00">UTC+05:00 (Karachi)</option>
                                <option value="+04:00">UTC+04:00 (Dubai)</option>
                                <option value="+03:00">UTC+03:00 (Moscow, Istanbul)</option>
                                <option value="+02:00">UTC+02:00 (Cairo, Athens)</option>
                                <option value="+01:00">UTC+01:00 (Paris, Berlin)</option>
                                <option value="+00:00">UTC+00:00 (London, Dublin)</option>
                                <option value="-01:00">UTC-01:00 (Cape Verde)</option>
                                <option value="-02:00">UTC-02:00 (South Georgia)</option>
                                <option value="-03:00">UTC-03:00 (Brazil, Argentina)</option>
                                <option value="-04:00">UTC-04:00 (Atlantic Time)</option>
                                <option value="-05:00">UTC-05:00 (Eastern Time)</option>
                                <option value="-06:00">UTC-06:00 (Central Time)</option>
                                <option value="-07:00">UTC-07:00 (Mountain Time)</option>
                                <option value="-08:00">UTC-08:00 (Pacific Time)</option>
                                <option value="-09:00">UTC-09:00 (Alaska)</option>
                                <option value="-10:00">UTC-10:00 (Hawaii)</option>
                                <option value="-11:00">UTC-11:00 (American Samoa)</option>
                                <option value="-12:00">UTC-12:00 (Baker Island)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="enableNTP">Enable NTP</label>
                            <input type="checkbox" id="enableNTP">
                        </div>
                        <div id="ntpStatusContainer" class="form-group" style="display: none;">
                            <div class="form-group">
                                <label>NTP Status:</label>
                                <span id="ntpStatus" class="static-value"></span>
                            </div>
                            <div class="form-group">
                                <label>Last Update:</label>
                                <span id="lastNtpUpdate" class="static-value"></span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="enableDST">Daylight Saving Time</label>
                            <input type="checkbox" id="enableDST">
                        </div>
                        <button id="saveTimeBtn" class="btn">Save Date and Time Settings</button>
                    </div>
                    
                    <div class="settings-section">
                        <h3>Network Configuration</h3>
                        <form id="networkForm">
                            <div class="form-group">
                                <label>IP Configuration:</label>
                                <select id="ipConfig">
                                    <option value="dhcp">DHCP</option>
                                    <option value="static">Static IP</option>
                                </select>
                            </div>
                            <div id="staticSettings" style="display: none;">
                                <div class="form-group">
                                    <label>IP Address:</label>
                                    <input type="text" id="ipAddress" 
                                        pattern="^((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$"
                                        placeholder="192.168.1.100"
                                        title="Please enter a valid IPv4 address">
                                </div>
                                <div class="form-group">
                                    <label>Subnet Mask:</label>
                                    <input type="text" id="subnetMask" 
                                        pattern="^((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$"
                                        placeholder="255.255.255.0"
                                        title="Please enter a valid subnet mask">
                                </div>
                                <div class="form-group">
                                    <label>Gateway:</label>
                                    <input type="text" id="gateway" 
                                        pattern="^((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$"
                                        placeholder="192.168.1.1"
                                        title="Please enter a valid gateway address">
                                </div>
                                <div class="form-group">
                                    <label>DNS Server:</label>
                                    <input type="text" id="dns" 
                                        pattern="^((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$"
                                        placeholder="8.8.8.8"
                                        title="Please enter a valid DNS server address">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="macAddress">MAC Address:</label>
                                <span id="macAddress" class="static-value"></span>
                            </div>
                            <div class="form-group">
                                <label for="currentIP">Current IP Address:</label>
                                <span id="currentIP" class="static-value"></span>
                            </div>
                            <div class="form-group">
                                <label for="hostName">Hostname:</label>
                                <input type="text" id="hostName" value="open-reactor">
                            </div>
                            <div class="form-group">
                                <label for="ntpServer">NTP Server:</label>
                                <input type="text" id="ntpServer" value="pool.ntp.org">
                            </div>
                            <button type="submit" id="saveNetworkSettings" class="btn">Save Network Settings</button>
                            <div id="networkStatus" class="status-message"></div>
                        </form>
                    </div>
                    
                    <div class="settings-section">
                        <h3>MQTT Configuration</h3>
                        <form id="mqttForm">
                            <div class="checkbox-group">
                                <label>
                                    <input type="checkbox" id="mqttEnabled" name="mqttEnabled">
                                    Enable MQTT Client
                                </label>
                            </div>
                            <div class="form-group">
                                <label for="mqttBroker">Broker Address: <span class="required">*</span></label>
                                <input type="text" id="mqttBroker" name="mqttBroker" placeholder="e.g., mqtt.example.com">
                            </div>
                            <div class="form-group">
                                <label for="mqttPort">Port:</label>
                                <input type="number" id="mqttPort" name="mqttPort" placeholder="1883" min="1" max="65535">
                            </div>
                            <div class="form-group">
                                <label for="mqttUsername">Username:</label>
                                <input type="text" id="mqttUsername" name="mqttUsername">
                            </div>
                            <div class="form-group">
                                <label for="mqttPassword">Password:</label>
                                <input type="password" id="mqttPassword" name="mqttPassword">
                            </div>
                            <button type="submit" class="btn">Save MQTT Settings</button>
                        </form>
                    </div>

                    <div class="settings-section">
                        <h3>Data Recording</h3>
                        <p class="settings-description">Configure automatic data recording to SD card. Data will be recorded at the specified intervals, aligned to RTC time.</p>
                        <form id="recordingForm">
                            <div class="checkbox-group">
                                <label>
                                    <input type="checkbox" id="recordingEnabled">
                                    Enable Data Recording
                                </label>
                            </div>
                            
                            <div class="recording-types">
                                <div class="recording-type-row">
                                    <div class="recording-type-enable">
                                        <input type="checkbox" id="recordInputs">
                                        <label for="recordInputs">Inputs (ADC, Digital)</label>
                                    </div>
                                    <div class="recording-type-interval">
                                        <label>Interval:</label>
                                        <input type="number" id="inputsInterval" min="15" step="1" value="60">
                                        <span>sec</span>
                                    </div>
                                </div>
                                
                                <div class="recording-type-row">
                                    <div class="recording-type-enable">
                                        <input type="checkbox" id="recordOutputs">
                                        <label for="recordOutputs">Outputs (DAC, Digital)</label>
                                    </div>
                                    <div class="recording-type-interval">
                                        <label>Interval:</label>
                                        <input type="number" id="outputsInterval" min="15" step="1" value="60">
                                        <span>sec</span>
                                    </div>
                                </div>
                                
                                <div class="recording-type-row">
                                    <div class="recording-type-enable">
                                        <input type="checkbox" id="recordMotors">
                                        <label for="recordMotors">Motors (Stepper, DC)</label>
                                    </div>
                                    <div class="recording-type-interval">
                                        <label>Interval:</label>
                                        <input type="number" id="motorsInterval" min="15" step="1" value="60">
                                        <span>sec</span>
                                    </div>
                                </div>
                                
                                <div class="recording-type-row">
                                    <div class="recording-type-enable">
                                        <input type="checkbox" id="recordSensors">
                                        <label for="recordSensors">Sensors (RTD, Device)</label>
                                    </div>
                                    <div class="recording-type-interval">
                                        <label>Interval:</label>
                                        <input type="number" id="sensorsInterval" min="15" step="1" value="60">
                                        <span>sec</span>
                                    </div>
                                </div>
                                
                                <div class="recording-type-row">
                                    <div class="recording-type-enable">
                                        <input type="checkbox" id="recordEnergy">
                                        <label for="recordEnergy">Energy Monitors</label>
                                    </div>
                                    <div class="recording-type-interval">
                                        <label>Interval:</label>
                                        <input type="number" id="energyInterval" min="15" step="1" value="60">
                                        <span>sec</span>
                                    </div>
                                </div>
                                
                                <div class="recording-type-row">
                                    <div class="recording-type-enable">
                                        <input type="checkbox" id="recordControllers">
                                        <label for="recordControllers">Controllers</label>
                                    </div>
                                    <div class="recording-type-interval">
                                        <label>Interval:</label>
                                        <input type="number" id="controllersInterval" min="15" step="1" value="60">
                                        <span>sec</span>
                                    </div>
                                </div>
                                
                                <div class="recording-type-row">
                                    <div class="recording-type-enable">
                                        <input type="checkbox" id="recordDevices">
                                        <label for="recordDevices">Devices (MFC, pH, DO)</label>
                                    </div>
                                    <div class="recording-type-interval">
                                        <label>Interval:</label>
                                        <input type="number" id="devicesInterval" min="15" step="1" value="60">
                                        <span>sec</span>
                                    </div>
                                </div>
                            </div>
                            
                            <button type="submit" class="btn">Save Recording Settings</button>
                            <div id="recordingStatus" class="status-message"></div>
                        </form>
                    </div>
                </div>

            </main>
        </div>
        
        <!-- Toast Container for notifications -->
        <div id="toastContainer" class="toast-container"></div>
        
        <!-- Reboot Confirmation Modal -->
        <div id="rebootModal" class="modal-overlay">
            <div class="confirmation-modal">
                <h3>Confirm System Reboot</h3>
                <p>Are you sure you want to reboot the system? This will temporarily disconnect all connections.</p>
                <div class="modal-buttons">
                    <button id="cancelReboot" class="modal-cancel">Cancel</button>
                    <button id="confirmReboot" class="modal-confirm">Yes, Reboot</button>
                </div>
            </div>
        </div>
        
        <!-- ADC Configuration Modal -->
        <div id="adcConfigModal" class="modal-overlay">
            <div class="config-modal">
                <h3>Configure Analog Input <span id="adcConfigIndex"></span></h3>
                <div class="config-form">
                    <div class="form-group">
                        <label for="adcConfigName">Name:</label>
                        <input type="text" id="adcConfigName" maxlength="31" placeholder="Sensor name">
                    </div>
                    
                    <div class="form-group">
                        <label for="adcConfigUnit">Unit:</label>
                        <select id="adcConfigUnit">
                            <option value="mV">mV (millivolts)</option>
                            <option value="V">V (volts)</option>
                            <option value="mA">mA (milliamps)</option>
                            <option value="uV">uV (microvolts)</option>
                        </select>
                    </div>
                    
                    <div class="form-section">
                        <h4>Calibration</h4>
                        <div class="calibration-tabs">
                            <button class="cal-tab-btn active" data-tab="two-point">Two-Point Calibration</button>
                            <button class="cal-tab-btn" data-tab="direct">Direct Entry</button>
                        </div>
                        
                        <!-- Two-Point Calibration -->
                        <div id="twoPointCal" class="cal-tab-content active">
                            <p class="cal-description">Enter two calibration points: current displayed value vs actual measured value</p>
                            <div class="cal-point">
                                <h5>Point 1 (Low)</h5>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="calP1Raw">Displayed Value:</label>
                                        <input type="number" id="calP1Raw" step="0.01" placeholder="e.g., 1500 mV">
                                    </div>
                                    <div class="form-group">
                                        <label for="calP1Real">Measured Value:</label>
                                        <input type="number" id="calP1Real" step="0.01" placeholder="e.g., 1250 mV">
                                    </div>
                                </div>
                            </div>
                            <div class="cal-point">
                                <h5>Point 2 (High)</h5>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="calP2Raw">Displayed Value:</label>
                                        <input type="number" id="calP2Raw" step="0.01" placeholder="e.g., 2500 mV">
                                    </div>
                                    <div class="form-group">
                                        <label for="calP2Real">Measured Value:</label>
                                        <input type="number" id="calP2Real" step="0.01" placeholder="e.g., 2100 mV">
                                    </div>
                                </div>
                            </div>
                            <button class="btn btn-secondary" onclick="calculateTwoPointCal()">Calculate</button>
                        </div>
                        
                        <!-- Direct Entry -->
                        <div id="directCal" class="cal-tab-content">
                            <p class="cal-description">Directly enter scale and offset values</p>
                            <div class="form-group">
                                <label for="calScale">Scale:</label>
                                <input type="number" id="calScale" step="0.0001" placeholder="1.0">
                            </div>
                            <div class="form-group">
                                <label for="calOffset">Offset:</label>
                                <input type="number" id="calOffset" step="0.01" placeholder="0.0">
                            </div>
                        </div>
                        
                        <div class="cal-result">
                            <div class="form-group">
                                <label>Calculated Scale:</label>
                                <span id="resultScale" class="result-value">--</span>
                            </div>
                            <div class="form-group">
                                <label>Calculated Offset:</label>
                                <span id="resultOffset" class="result-value">--</span>
                            </div>
                            <button class="btn btn-secondary" onclick="resetCalibration()" style="margin-top: 10px;">Reset to Default (1.0, 0.0)</button>
                        </div>
                    </div>
                    
                    <div class="form-group checkbox-group">
                        <label>
                            <input type="checkbox" id="adcShowOnDashboard">
                            Show on Dashboard
                        </label>
                    </div>
                </div>
                
                <div class="modal-buttons">
                    <button class="modal-cancel" onclick="closeADCConfigModal()">Cancel</button>
                    <button class="modal-confirm" onclick="saveADCConfig()">Save</button>
                </div>
            </div>
        </div>
        
        <!-- DAC Configuration Modal -->
        <div id="dacConfigModal" class="modal-overlay">
            <div class="config-modal">
                <h3>Configure Analog Output <span id="dacConfigIndex"></span></h3>
                <div class="config-form">
                    <div class="form-group">
                        <label for="dacConfigName">Name:</label>
                        <input type="text" id="dacConfigName" maxlength="31" placeholder="Output name">
                    </div>
                    
                    <div class="form-section">
                        <h4>Calibration</h4>
                        <p class="cal-description" style="margin-bottom: 15px;">Units are fixed at mV (0-10240)</p>
                        <div class="calibration-tabs">
                            <button class="cal-tab-btn active" data-tab="two-point-dac">Two-Point Calibration</button>
                            <button class="cal-tab-btn" data-tab="direct-dac">Direct Entry</button>
                        </div>
                        
                        <!-- Two-Point Calibration -->
                        <div id="twoPointCalDAC" class="cal-tab-content active">
                            <p class="cal-description">Enter two calibration points: current displayed value vs actual measured value</p>
                            <div class="cal-point">
                                <h5>Point 1 (Low)</h5>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="calP1RawDAC">Displayed Value (mV):</label>
                                        <input type="number" id="calP1RawDAC" step="0.01" placeholder="e.g., 1500">
                                    </div>
                                    <div class="form-group">
                                        <label for="calP1RealDAC">Measured Value (mV):</label>
                                        <input type="number" id="calP1RealDAC" step="0.01" placeholder="e.g., 1250">
                                    </div>
                                </div>
                            </div>
                            <div class="cal-point">
                                <h5>Point 2 (High)</h5>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="calP2RawDAC">Displayed Value (mV):</label>
                                        <input type="number" id="calP2RawDAC" step="0.01" placeholder="e.g., 2500">
                                    </div>
                                    <div class="form-group">
                                        <label for="calP2RealDAC">Measured Value (mV):</label>
                                        <input type="number" id="calP2RealDAC" step="0.01" placeholder="e.g., 2100">
                                    </div>
                                </div>
                            </div>
                            <button class="btn btn-secondary" onclick="calculateTwoPointCalDAC()">Calculate</button>
                        </div>
                        
                        <!-- Direct Entry -->
                        <div id="directCalDAC" class="cal-tab-content">
                            <p class="cal-description">Directly enter scale and offset values</p>
                            <div class="form-group">
                                <label for="calScaleDAC">Scale:</label>
                                <input type="number" id="calScaleDAC" step="0.0001" placeholder="1.0">
                            </div>
                            <div class="form-group">
                                <label for="calOffsetDAC">Offset:</label>
                                <input type="number" id="calOffsetDAC" step="0.01" placeholder="0.0">
                            </div>
                        </div>
                        
                        <div class="cal-result">
                            <div class="form-group">
                                <label>Calculated Scale:</label>
                                <span id="resultScaleDAC" class="result-value">--</span>
                            </div>
                            <div class="form-group">
                                <label>Calculated Offset:</label>
                                <span id="resultOffsetDAC" class="result-value">--</span>
                            </div>
                            <button class="btn btn-secondary" onclick="resetCalibrationDAC()" style="margin-top: 10px;">Reset to Default (1.0, 0.0)</button>
                        </div>
                    </div>
                    
                    <div class="form-group checkbox-group">
                        <label>
                            <input type="checkbox" id="dacShowOnDashboard">
                            Show on Dashboard
                        </label>
                    </div>
                </div>
                
                <div class="modal-buttons">
                    <button class="modal-cancel" onclick="closeDACConfigModal()">Cancel</button>
                    <button class="modal-confirm" onclick="saveDACConfig()">Save</button>
                </div>
            </div>
        </div>
        
        <!-- RTD Configuration Modal -->
        <div id="rtdConfigModal" class="modal-overlay">
            <div class="config-modal">
                <h3>Configure RTD Sensor <span id="rtdConfigIndex"></span></h3>
                <div class="config-form">
                    <div class="form-group">
                        <label for="rtdConfigName">Name:</label>
                        <input type="text" id="rtdConfigName" maxlength="31" placeholder="Sensor name">
                    </div>
                    
                    <div class="form-group">
                        <label for="rtdConfigUnit">Unit:</label>
                        <select id="rtdConfigUnit">
                            <option value="C">Â°C (Celsius)</option>
                            <option value="F">Â°F (Fahrenheit)</option>
                            <option value="K">K (Kelvin)</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="rtdConfigWires">Wire Configuration:</label>
                        <select id="rtdConfigWires">
                            <option value="2">2-Wire</option>
                            <option value="3">3-Wire</option>
                            <option value="4">4-Wire</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="rtdConfigType">RTD Type:</label>
                        <select id="rtdConfigType">
                            <option value="100">PT100 (100Î© @ 0Â°C)</option>
                            <option value="1000">PT1000 (1000Î© @ 0Â°C)</option>
                        </select>
                    </div>
                    
                    <div class="form-section">
                        <h4>Calibration</h4>
                        <div class="calibration-tabs">
                            <button class="cal-tab-btn active" data-tab="two-point-rtd">Two-Point Calibration</button>
                            <button class="cal-tab-btn" data-tab="direct-rtd">Direct Entry</button>
                        </div>
                        
                        <!-- Two-Point Calibration -->
                        <div id="twoPointCalRTD" class="cal-tab-content active">
                            <p class="cal-description">Enter two calibration points: current displayed value vs actual measured value</p>
                            <div class="cal-point">
                                <h5>Point 1 (Low)</h5>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="calP1RawRTD">Displayed Value:</label>
                                        <input type="number" id="calP1RawRTD" step="0.01" placeholder="e.g., 20.0 Â°C">
                                    </div>
                                    <div class="form-group">
                                        <label for="calP1RealRTD">Measured Value:</label>
                                        <input type="number" id="calP1RealRTD" step="0.01" placeholder="e.g., 19.5 Â°C">
                                    </div>
                                </div>
                            </div>
                            <div class="cal-point">
                                <h5>Point 2 (High)</h5>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="calP2RawRTD">Displayed Value:</label>
                                        <input type="number" id="calP2RawRTD" step="0.01" placeholder="e.g., 80.0 Â°C">
                                    </div>
                                    <div class="form-group">
                                        <label for="calP2RealRTD">Measured Value:</label>
                                        <input type="number" id="calP2RealRTD" step="0.01" placeholder="e.g., 79.2 Â°C">
                                    </div>
                                </div>
                            </div>
                            <button class="btn btn-secondary" onclick="calculateTwoPointCalRTD()">Calculate</button>
                        </div>
                        
                        <!-- Direct Entry -->
                        <div id="directCalRTD" class="cal-tab-content">
                            <p class="cal-description">Directly enter scale and offset values</p>
                            <div class="form-group">
                                <label for="calScaleRTD">Scale:</label>
                                <input type="number" id="calScaleRTD" step="0.0001" placeholder="1.0">
                            </div>
                            <div class="form-group">
                                <label for="calOffsetRTD">Offset:</label>
                                <input type="number" id="calOffsetRTD" step="0.01" placeholder="0.0">
                            </div>
                        </div>
                        
                        <div class="cal-result">
                            <div class="form-group">
                                <label>Calculated Scale:</label>
                                <span id="resultScaleRTD" class="result-value">--</span>
                            </div>
                            <div class="form-group">
                                <label>Calculated Offset:</label>
                                <span id="resultOffsetRTD" class="result-value">--</span>
                            </div>
                            <button class="btn btn-secondary" onclick="resetCalibrationRTD()" style="margin-top: 10px;">Reset to Default (1.0, 0.0)</button>
                        </div>
                    </div>
                    
                    <div class="form-group checkbox-group">
                        <label>
                            <input type="checkbox" id="rtdShowOnDashboard">
                            Show on Dashboard
                        </label>
                    </div>
                </div>
                
                <div class="modal-buttons">
                    <button class="modal-cancel" onclick="closeRTDConfigModal()">Cancel</button>
                    <button class="modal-confirm" onclick="saveRTDConfig()">Save</button>
                </div>
            </div>
        </div>
        
        <!-- GPIO Configuration Modal -->
        <div id="gpioConfigModal" class="modal-overlay">
            <div class="config-modal">
                <h3>Configure Digital Input <span id="gpioConfigIndex"></span></h3>
                <div class="config-form">
                    <div class="form-group">
                        <label for="gpioConfigName">Name:</label>
                        <input type="text" id="gpioConfigName" maxlength="31" placeholder="Input name">
                    </div>
                    
                    <div class="form-group">
                        <label for="gpioConfigPullMode">Pull Resistor:</label>
                        <select id="gpioConfigPullMode">
                            <option value="0">None (High-Z)</option>
                            <option value="1">Pull-Up</option>
                            <option value="2">Pull-Down</option>
                        </select>
                    </div>
                    
                    <div class="form-group checkbox-group">
                        <label>
                            <input type="checkbox" id="gpioShowOnDashboard">
                            Show on Dashboard
                        </label>
                    </div>
                </div>
                
                <div class="modal-buttons">
                    <button class="modal-cancel" onclick="closeGPIOConfigModal()">Cancel</button>
                    <button class="modal-confirm" onclick="saveGPIOConfig()">Save</button>
                </div>
            </div>
        </div>
        
        <!-- Energy Sensor Configuration Modal -->
        <div id="energySensorConfigModal" class="modal-overlay">
            <div class="config-modal">
                <h3>Configure Energy Monitor <span id="energySensorConfigIndex"></span></h3>
                <div class="config-form">
                    <div class="form-group">
                        <label for="energySensorConfigName">Name:</label>
                        <input type="text" id="energySensorConfigName" maxlength="31" placeholder="Energy monitor name">
                    </div>
                    
                    <div class="form-group checkbox-group">
                        <label>
                            <input type="checkbox" id="energySensorShowOnDashboard">
                            Show on Dashboard
                        </label>
                    </div>
                </div>
                
                <div class="modal-buttons">
                    <button class="modal-cancel" onclick="closeEnergySensorConfigModal()">Cancel</button>
                    <button class="modal-confirm" onclick="saveEnergySensorConfig()">Save</button>
                </div>
            </div>
        </div>
        
        <!-- Device Sensor Configuration Modal -->
        <div id="deviceSensorConfigModal" class="modal-overlay">
            <div class="config-modal">
                <h3>Configure Device Sensor <span id="deviceSensorConfigIndex"></span></h3>
                <div class="config-form">
                    <div class="form-group">
                        <label for="deviceSensorConfigName">Name:</label>
                        <input type="text" id="deviceSensorConfigName" maxlength="32" placeholder="Device sensor name">
                        <small style="color: #7f8c8d;">Maximum 32 characters</small>
                    </div>
                    
                    <div class="form-group checkbox-group">
                        <label>
                            <input type="checkbox" id="deviceSensorShowOnDashboard">
                            Show on Dashboard
                        </label>
                    </div>
                </div>
                
                <div class="modal-buttons">
                    <button class="modal-cancel" onclick="closeDeviceSensorConfigModal()">Cancel</button>
                    <button class="modal-confirm" onclick="saveDeviceSensorConfig()">Save</button>
                </div>
            </div>
        </div>
        
        <!-- Digital Output Configuration Modal -->
        <div id="digitalOutputConfigModal" class="modal-overlay">
            <div class="config-modal">
                <h3>Configure Output <span id="outputConfigIndex"></span></h3>
                <div class="config-form">
                    <div class="form-group">
                        <label for="outputConfigName">Name:</label>
                        <input type="text" id="outputConfigName" maxlength="31" placeholder="Output name">
                    </div>
                    
                    <div class="form-group">
                        <label for="outputConfigMode">Mode:</label>
                        <select id="outputConfigMode">
                            <option value="0">On/Off</option>
                            <option value="1">PWM (0-100%)</option>
                        </select>
                    </div>
                    
                    <div class="form-group checkbox-group">
                        <label>
                            <input type="checkbox" id="outputShowOnDashboard">
                            Show on Dashboard
                        </label>
                    </div>
                </div>
                
                <div class="modal-buttons">
                    <button class="modal-cancel" onclick="closeDigitalOutputConfigModal()">Cancel</button>
                    <button class="modal-confirm" onclick="saveDigitalOutputConfig()">Save</button>
                </div>
            </div>
        </div>
        
        <!-- Stepper Motor Configuration Modal -->
        <div id="stepperConfigModal" class="modal-overlay">
            <div class="config-modal">
                <h3>Configure Stepper Motor</h3>
                <div class="config-form">
                    <div class="form-group">
                        <label for="stepperConfigName">Name:</label>
                        <input type="text" id="stepperConfigName" maxlength="31" placeholder="Motor name">
                    </div>
                    
                    <div class="form-group">
                        <label for="stepperStepsPerRev">Steps per Revolution:</label>
                        <input type="number" id="stepperStepsPerRev" min="1" max="10000" value="200" 
                            title="Valid range: 1-10000 (typical: 200 for 1.8Â° motor, 400 for 0.9Â° motor)">
                    </div>
                    
                    <div class="form-group">
                        <label for="stepperMaxRPM">Max RPM:</label>
                        <input type="number" id="stepperMaxRPM" min="1" max="3000" value="500"
                            title="Valid range: 1-3000 RPM">
                    </div>
                    
                    <div class="form-group">
                        <label for="stepperHoldCurrent">Hold Current (mA):</label>
                        <input type="number" id="stepperHoldCurrent" min="1" max="1000" value="50"
                            title="Valid range: 1-1000 mA (TMC5130 hardware limit)">
                    </div>
                    
                    <div class="form-group">
                        <label for="stepperRunCurrent">Run Current (mA):</label>
                        <input type="number" id="stepperRunCurrent" min="1" max="1800" value="100"
                            title="Valid range: 1-1800 mA (TMC5130 hardware limit)">
                    </div>
                    
                    <div class="form-group">
                        <label for="stepperAcceleration">Acceleration (RPM/s):</label>
                        <input type="number" id="stepperAcceleration" min="1" max="3000" value="100"
                            title="Valid range: 1 to Max RPM">
                    </div>
                    
                    <div class="checkbox-group">
                        <label>
                            <input type="checkbox" id="stepperInvertDirection">
                            Invert Direction
                        </label>
                    </div>
                    
                    <div class="checkbox-group">
                        <label>
                            <input type="checkbox" id="stepperShowOnDashboard">
                            Show on Dashboard
                        </label>
                    </div>
                    
                    <!-- TMC5130 Advanced Features -->
                    <hr style="margin: 20px 0; border: 0; border-top: 1px solid #ecf0f1;">
                    <h4 style="margin-bottom: 15px; color: #2c3e50;">TMC5130 Advanced Features</h4>
                    
                    <div class="checkbox-group">
                        <label>
                            <input type="checkbox" id="stepperStealthChopEnabled">
                            Enable StealthChop Mode
                        </label>
                    </div>
                    
                    <div class="checkbox-group">
                        <label>
                            <input type="checkbox" id="stepperCoolStepEnabled">
                            Enable CoolStep Mode
                        </label>
                    </div>
                    
                    <div class="checkbox-group">
                        <label>
                            <input type="checkbox" id="stepperFullStepEnabled">
                            Enable FullStep Mode
                        </label>
                    </div>
                    
                    <div class="form-group">
                        <label for="stepperStealthChopMaxRPM">StealthChop Max RPM:</label>
                        <input type="number" id="stepperStealthChopMaxRPM" min="1" max="9999" value="100" step="0.1"
                            title="RPM threshold below which StealthChop is active">
                        <span style="font-size: 0.8em; color: #7f8c8d; display: block; margin-top: 2px;">Default: 100 RPM</span>
                    </div>
                    
                    <div class="form-group">
                        <label for="stepperCoolStepMinRPM">CoolStep Min RPM:</label>
                        <input type="number" id="stepperCoolStepMinRPM" min="1" max="9999" value="200" step="0.1"
                            title="RPM threshold above which CoolStep becomes active">
                        <span style="font-size: 0.8em; color: #7f8c8d; display: block; margin-top: 2px;">Default: 200 RPM</span>
                    </div>
                    
                    <div class="form-group">
                        <label for="stepperFullStepMinRPM">FullStep Min RPM:</label>
                        <input type="number" id="stepperFullStepMinRPM" min="1" max="9999" value="300" step="0.1"
                            title="RPM threshold above which FullStep mode is active">
                        <span style="font-size: 0.8em; color: #7f8c8d; display: block; margin-top: 2px;">Default: 300 RPM</span>
                    </div>
                    
                    <div style="font-size: 0.8em; color: #7f8c8d; margin: 15px 0; padding: 10px; background-color: #f8f9fa; border-radius: 4px;">
                        <strong>RPM Threshold Rules:</strong><br>
                        StealthChop Max RPM < CoolStep Min RPM < FullStep Min RPM < Max RPM
                    </div>
                </div>
                
                <div class="modal-buttons">
                    <button class="modal-cancel" onclick="closeStepperConfigModal()">Cancel</button>
                    <button class="modal-confirm" onclick="saveStepperConfig()">Save</button>
                </div>
            </div>
        </div>
        
        <!-- DC Motor Configuration Modal -->
        <div id="dcMotorConfigModal" class="modal-overlay">
            <div class="config-modal">
                <h3>Configure DC Motor <span id="dcMotorConfigIndex"></span></h3>
                <div class="config-form">
                    <div class="form-group">
                        <label for="dcMotorConfigName">Name:</label>
                        <input type="text" id="dcMotorConfigName" maxlength="31" placeholder="Motor name">
                    </div>
                    
                    <div class="form-group checkbox-group">
                        <label>
                            <input type="checkbox" id="dcMotorInvertDirection">
                            Invert Direction
                        </label>
                    </div>
                    
                    <div class="form-group checkbox-group">
                        <label>
                            <input type="checkbox" id="dcMotorShowOnDashboard">
                            Show on Dashboard
                        </label>
                    </div>
                </div>
                
                <div class="modal-buttons">
                    <button class="modal-cancel" onclick="closeDCMotorConfigModal()">Cancel</button>
                    <button class="modal-confirm" onclick="saveDCMotorConfig()">Save</button>
                </div>
            </div>
        </div>
        
        <!-- COM Port Configuration Modal -->
        <div id="comportConfigModal" class="modal-overlay">
            <div class="config-modal">
                <h3>Configure <span id="comportConfigTitle"></span></h3>
                <div class="config-form">
                    <div class="form-group">
                        <label for="comportConfigName">Name:</label>
                        <input type="text" id="comportConfigName" maxlength="31" placeholder="Port name">
                    </div>
                    
                    <div class="form-group">
                        <label for="comportConfigBaud">Baud Rate:</label>
                        <select id="comportConfigBaud">
                            <option value="1200">1200</option>
                            <option value="2400">2400</option>
                            <option value="4800">4800</option>
                            <option value="9600">9600</option>
                            <option value="19200">19200</option>
                            <option value="38400">38400</option>
                            <option value="57600">57600</option>
                            <option value="115200">115200</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="comportConfigParity">Parity:</label>
                        <select id="comportConfigParity">
                            <option value="0">None</option>
                            <option value="1">Odd</option>
                            <option value="2">Even</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="comportConfigStopBits">Stop Bits:</label>
                        <select id="comportConfigStopBits">
                            <option value="1">1</option>
                            <option value="2">2</option>
                        </select>
                    </div>
                    
                    <div class="form-group checkbox-group">
                        <label>
                            <input type="checkbox" id="comportShowOnDashboard">
                            Show on Dashboard
                        </label>
                    </div>
                </div>
                
                <div class="modal-buttons">
                    <button class="modal-cancel" onclick="closeComPortConfigModal()">Cancel</button>
                    <button class="modal-confirm" onclick="saveComPortConfig()">Save</button>
                </div>
            </div>
        </div>
        
        <!-- Add Device Modal -->
        <div id="addDeviceModal" class="modal-overlay">
            <div class="config-modal" style="max-width: 600px;">
                <h3>Add New Device</h3>
                <div class="config-form">
                    <!-- Step 1: Interface Type -->
                    <div class="form-group">
                        <label for="deviceInterfaceType">Interface Type:</label>
                        <select id="deviceInterfaceType" onchange="updateDriverOptions()">
                            <option value="">-- Select Interface --</option>
                            <option value="0">Modbus RTU Device</option>
                            <option value="1">Analogue I/O Device</option>
                        </select>
                    </div>
                    
                    <!-- Step 2: Driver Type -->
                    <div class="form-group" id="driverTypeGroup" style="display: none;">
                        <label for="deviceDriverType">Driver:</label>
                        <select id="deviceDriverType" onchange="updateDeviceFields()">
                            <option value="">-- Select Driver --</option>
                        </select>
                    </div>
                    
                    <!-- Step 3: Common Fields -->
                    <div id="deviceCommonFields" style="display: none;">
                        <div class="form-group">
                            <label for="deviceName">Device Name:</label>
                            <input type="text" id="deviceName" maxlength="39" placeholder="Enter device name">
                        </div>
                    </div>
                    
                    <!-- Step 4: Interface-Specific Fields -->
                    
                    <!-- Modbus RTU Fields -->
                    <div id="modbusFields" style="display: none;">
                        <div class="form-group">
                            <label for="deviceModbusPort">COM Port:</label>
                            <select id="deviceModbusPort">
                                <option value="0">RS-232 Port 1</option>
                                <option value="1">RS-232 Port 2</option>
                                <option value="2">RS-485 Port 1</option>
                                <option value="3">RS-485 Port 2</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="deviceModbusSlaveID">Slave ID:</label>
                            <input type="number" id="deviceModbusSlaveID" min="1" max="247" value="1" 
                                placeholder="1-247">
                        </div>
                    </div>
                    
                    <!-- Analogue I/O Fields (Pressure Controller) -->
                    <div id="analogueIOFields" style="display: none;">
                        <div class="form-group">
                            <label for="deviceDacOutput">DAC Output:</label>
                            <select id="deviceDacOutput">
                                <option value="0">Analog Output 1</option>
                                <option value="1">Analog Output 2</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="devicePressureUnit">Unit:</label>
                            <select id="devicePressureUnit" onchange="updateAddDevicePressureUnits()">
                                <option value="Pa">Pa (Pascal)</option>
                                <option value="kPa">kPa (Kilopascal)</option>
                                <option value="bar" selected>bar</option>
                                <option value="PSI">PSI (Pounds/sq.in)</option>
                                <option value="atm">atm (Atmosphere)</option>
                                <option value="mbar">mbar (Millibar)</option>
                            </select>
                        </div>
                        
                        <h4 style="margin-top: 20px;">Calibration</h4>
                        
                        <div style="background: #f5f5f5; padding: 15px; border-radius: 4px; margin: 10px 0;">
                            <strong>Point 1 (Low)</strong>
                            <div class="form-row" style="margin-top: 10px;">
                                <div class="form-group">
                                    <label for="deviceCalVoltage1">Voltage (mV):</label>
                                    <input type="number" id="deviceCalVoltage1" placeholder="e.g., 0" step="0.1">
                                </div>
                                <div class="form-group">
                                    <label for="deviceCalPressure1"><span id="devicePressureLabel1">Pressure (bar):</span></label>
                                    <input type="number" id="deviceCalPressure1" placeholder="e.g., 0" step="0.001">
                                </div>
                            </div>
                        </div>
                        
                        <div style="background: #f5f5f5; padding: 15px; border-radius: 4px; margin: 10px 0;">
                            <strong>Point 2 (High)</strong>
                            <div class="form-row" style="margin-top: 10px;">
                                <div class="form-group">
                                    <label for="deviceCalVoltage2">Voltage (mV):</label>
                                    <input type="number" id="deviceCalVoltage2" placeholder="e.g., 10000" step="0.1">
                                </div>
                                <div class="form-group">
                                    <label for="deviceCalPressure2"><span id="devicePressureLabel2">Pressure (bar):</span></label>
                                    <input type="number" id="deviceCalPressure2" placeholder="e.g., 10" step="0.001">
                                </div>
                            </div>
                        </div>
                        
                        <button type="button" onclick="calculateAddDevicePressureCalibration()" 
                                style="width: 100%; padding: 10px; margin: 15px 0 10px 0; background: #ddd; border: none; border-radius: 4px; cursor: pointer;">
                            Calculate
                        </button>
                        
                        <div style="background: #f5f5f5; padding: 15px; border-radius: 4px; margin: 10px 0;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                <span>Calculated Scale:</span>
                                <span id="deviceCalScaleResult" style="color: #27ae60; font-weight: bold;">100.0000</span>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span>Calculated Offset:</span>
                                <span id="deviceCalOffsetResult" style="color: #27ae60; font-weight: bold;">0.00</span>
                            </div>
                            
                            <input type="hidden" id="deviceCalScale" value="100">
                            <input type="hidden" id="deviceCalOffset" value="0">
                            
                            <button type="button" onclick="resetAddDevicePressureCalibration()" 
                                    style="width: 100%; padding: 8px; margin-top: 15px; background: #ddd; border: none; border-radius: 4px; cursor: pointer;">
                                Reset to Default (100.0, 0.0)
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="modal-buttons">
                    <button class="modal-cancel" onclick="closeAddDeviceModal()">Cancel</button>
                    <button class="modal-confirm" onclick="createDevice()">Create Device</button>
                </div>
            </div>
        </div>
        
        <!-- Device Configuration Modal -->
        <div id="deviceConfigModal" class="modal-overlay">
            <div class="config-modal">
                <h3>Device Configuration</h3>
                <div id="deviceConfigContent" class="config-form">
                    <p>Loading...</p>
                </div>
                
                <div class="modal-buttons">
                    <button class="btn-danger" onclick="deleteDevice()" style="margin-right: auto;">Delete Device</button>
                    <button class="modal-cancel" onclick="closeDeviceConfigModal()">Cancel</button>
                    <button class="btn-primary" onclick="saveDeviceConfig()">Save</button>
                </div>
            </div>
        </div>
        
        <!-- Add Controller Modal -->
        <div id="addControllerModal" class="modal-overlay">
            <div class="config-modal" style="max-width: 600px;">
                <h3>Add New Controller</h3>
                <div class="config-form">
                    <!-- Step 1: Controller Type -->
                    <div class="form-group">
                        <label for="controllerType">Controller Type:</label>
                        <select id="controllerType" onchange="updateSensorOptions()">
                            <option value="">-- Select Controller --</option>
                            <option value="0">Temperature Controller</option>
                            <option value="1">pH Controller</option>
                            <option value="2">Flow Controller</option>
                            <option value="3">Dissolved Oxygen Controller</option>
                        </select>
                    </div>
                </div>
                
                <div class="modal-buttons">
                    <button class="modal-cancel" onclick="closeAddControllerModal()">Cancel</button>
                    <button class="modal-confirm" onclick="createController()">Create Controller</button>
                </div>
            </div>
        </div>

        <!-- Controller Configuration Modal -->
        <div id="controllerConfigModal" class="modal-overlay">
            <div class="config-modal">
                <h3>Controller Configuration</h3>
                <div id="controllerConfigContent" class="config-form">
                    <p>Loading...</p>
                </div>
                
                <div class="modal-buttons">
                    <button class="btn-danger" onclick="deleteController()" style="margin-right: auto;">Delete Controller</button>
                    <button class="modal-cancel" onclick="closeControllerConfigModal()">Cancel</button>
                    <button class="btn-primary" onclick="saveControllerConfig()">Save</button>
                </div>
            </div>
        </div>
        
        <!-- Backup/Restore Modal -->
        <div id="backupRestoreModal" class="modal-overlay">
            <div class="config-modal backup-restore-modal">
                <h3><span class="mdi mdi-database-sync"></span> Configuration Backup & Restore</h3>
                
                <!-- Step 1: Choose Action -->
                <div id="backupStep1" class="backup-step active">
                    <p class="backup-description">Create a backup of your system configuration or restore from a previous backup.</p>
                    <div class="backup-action-grid">
                        <button class="backup-action-btn" onclick="selectBackupAction('export')">
                            <span class="mdi mdi-database-export"></span>
                            <span class="action-title">Export Backup</span>
                            <span class="action-desc">Save configuration to a backup file</span>
                        </button>
                        <button class="backup-action-btn" onclick="selectBackupAction('import')">
                            <span class="mdi mdi-database-import"></span>
                            <span class="action-title">Import Backup</span>
                            <span class="action-desc">Restore configuration from a backup</span>
                        </button>
                    </div>
                </div>
                
                <!-- Step 2: Export Options -->
                <div id="backupStep2Export" class="backup-step">
                    <p class="backup-description">Choose where to save your backup:</p>
                    <div class="backup-action-grid">
                        <button class="backup-action-btn" onclick="exportBackup('download')">
                            <span class="mdi mdi-download"></span>
                            <span class="action-title">Download File</span>
                            <span class="action-desc">Save to your computer</span>
                        </button>
                        <button class="backup-action-btn" id="exportToSDBtn" onclick="exportBackup('sd')">
                            <span class="mdi mdi-sd"></span>
                            <span class="action-title">Save to SD Card</span>
                            <span class="action-desc">Store in /backups folder</span>
                        </button>
                    </div>
                    <div class="backup-nav">
                        <button class="btn btn-secondary" onclick="backupGoBack()">Back</button>
                    </div>
                </div>
                
                <!-- Step 2: Import Options -->
                <div id="backupStep2Import" class="backup-step">
                    <p class="backup-description">Choose the source of your backup:</p>
                    <div class="backup-action-grid">
                        <button class="backup-action-btn" onclick="importBackup('upload')">
                            <span class="mdi mdi-upload"></span>
                            <span class="action-title">Upload File</span>
                            <span class="action-desc">Choose from your computer</span>
                        </button>
                        <button class="backup-action-btn" id="importFromSDBtn" onclick="showSDBackupList()">
                            <span class="mdi mdi-sd"></span>
                            <span class="action-title">Load from SD Card</span>
                            <span class="action-desc">Restore from /backups folder</span>
                        </button>
                    </div>
                    <div class="backup-nav">
                        <button class="btn btn-secondary" onclick="backupGoBack()">Back</button>
                    </div>
                </div>
                
                <!-- Step 3: SD Backup List (for Import) -->
                <div id="backupStep3SDList" class="backup-step">
                    <p class="backup-description">Select a backup file to restore:</p>
                    <div id="sdBackupList" class="sd-backup-list">
                        <div class="loading">Loading backups...</div>
                    </div>
                    <div class="backup-nav">
                        <button class="btn btn-secondary" onclick="backupGoBack()">Back</button>
                    </div>
                </div>
                
                <!-- Step 3: Import Options (what to import) -->
                <div id="backupStep3ImportOptions" class="backup-step">
                    <p class="backup-description">Choose what to restore:</p>
                    <div id="backupFileInfo" class="backup-file-info"></div>
                    <div class="import-options">
                        <label class="import-option">
                            <input type="radio" name="importScope" value="io_only" checked>
                            <span class="option-label">
                                <strong>IO Configuration Only</strong>
                                <span class="option-desc">Inputs, outputs, sensors, controllers, and devices</span>
                            </span>
                        </label>
                        <label class="import-option">
                            <input type="radio" name="importScope" value="both">
                            <span class="option-label">
                                <strong>Full Configuration</strong>
                                <span class="option-desc">Includes network, NTP, and MQTT settings (requires reboot)</span>
                            </span>
                        </label>
                    </div>
                    <div class="backup-warning" id="rebootWarning" style="display: none;">
                        <span class="mdi mdi-alert"></span>
                        <span>Restoring system configuration will require a system reboot to apply changes.</span>
                    </div>
                    <div class="backup-nav">
                        <button class="btn btn-secondary" onclick="backupGoBack()">Back</button>
                        <button class="btn btn-primary" onclick="confirmImport()">Restore Configuration</button>
                    </div>
                </div>
                
                <!-- Step 4: Processing/Result -->
                <div id="backupStep4Result" class="backup-step">
                    <div id="backupResultContent" class="backup-result">
                        <div class="loading">Processing...</div>
                    </div>
                    <div class="backup-nav">
                        <button class="btn btn-primary" onclick="closeBackupRestoreModal()">Close</button>
                    </div>
                </div>
                
                <button class="modal-close-x" onclick="closeBackupRestoreModal()">&times;</button>
            </div>
        </div>
    </main>
    <div class="footer-info">
        <span class="version-info" id="versionInfo">Version 0.0.0 (Dev!)</span>
        <a href="https://github.com/ScionResearch/open-reactor-control-system" target="_blank" class="github-link">
            <svg class="github-icon" viewBox="0 0 16 16" width="16" height="16">
                <path fill="currentColor" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
            </svg>
            View Documentation on GitHub
        </a>
    </div>
    
    <!-- Hidden file input for backup import -->
    <input type="file" id="backupFileInput" accept=".json" style="display: none;" onchange="handleBackupFileSelect(event)">
    
    <!-- Chart.js for DO Profile visualization -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="script/script.js"></script>
</body>
</html>